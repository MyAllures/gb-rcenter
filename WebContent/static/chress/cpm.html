<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>弹窗</title>
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <link rel="stylesheet" href="../../chress/res/css/common.css" />
    <style>

        img{margin: 0 auto;padding: 0;}
        .fl{float:left;}
        .fr{float:right;}
        .mr10{margin-right: 0.1rem;}
        /*.cpm{width: 100%;height: 100%;position: fixed;left: 0;top: 0;z-index: 1000; color: #fff;   background-color: rgba(17, 16, 16, 0.4); overflow: hidden; }*/
        .cpm_box{width: 3.17rem;height: 2.53rem;position:absolute;top:0;left:0;right:0;bottom:0;margin: auto;}
        .img_top{width: 3.17rem;  background: url("../../chress/res/image/cpm/cpm_top.png") no-repeat 0 0;background-size:100%;height: 0.51rem}
        .cpm_content{width: 3.17rem;height: 2.02rem;  background-color: rgba(42, 53, 138, 0.47);padding: 0.1rem;box-sizing: border-box;border-bottom-left-radius: 0.1rem;  border-bottom-right-radius: 0.1rem;}
        .cpm_content>.ctt{width: 100%;border: 1px solid #6F7AC1;     border-radius: 5px; background-color: rgba(66, 80, 174, 0.51);}
        .dis-in{display: inline-block;}
        .dis-no{display: none;}
        .img_via{width: 0.8rem;  height: 0.8rem;  margin-left: 0.1rem;  background: url("../../chress/res/image/cpm/via.png") no-repeat 0 0;background-size:100%; border-radius: 0.1rem;overflow: hidden; }
        .via_box{font-size: 0.14rem;width: 58%;margin-left: -0.3rem;padding: 0.1rem;}
        .via_box h4{border: 1px solid #C68F37;  background-color: #263981;  border-radius: 10px;  padding: 0 0.05rem;  width: 1.4rem;}
        .via_box h4 span{color: #FFD800;font-size: 0.14rem;}
        .via_box h4 small{color: #FFF32D;font-size: 0.14rem;float:right;}
        .dis-in input{  background-color: #232B6A;border: none;color: #fff;width: 92%;border-radius: 0.05rem;padding: 0.05rem 0.1rem;}
        .btn-t{width: 1.4rem;  background: url("../../chress/res/image/cpm/button_t.png") no-repeat 0 0;background-size:100%;height: 0.46rem;display: inline-block;    margin-top: 0.08rem;  float: left;}
        .btn-t:active{width: 1.4rem;  background: url("../../chress/res/image/cpm/button_t.png") no-repeat 0 0;background-size:100%;height: 0.46rem;display: inline-block;  background-color: #feca3b;  margin-top: 0.08rem;  float: left;}
        .btn-s{width: 1.4rem;  background: url("../../chress/res/image/cpm/button_s.png") no-repeat 0 0;background-size:100%;height: 0.46rem;display: inline-block; margin-top: 0.08rem;  float: right;}
        .btn-s:active{width: 1.4rem;  background: url("../../chress/res/image/cpm/button_s.png") no-repeat 0 0;background-size:100%;height: 0.46rem;display: inline-block;background-color: #feca3b; margin-top: 0.08rem;  float: right;}
        .img-btn{width: 0.32rem;position: absolute;top: 0;right: -0.1rem; }
        .img-btn1{width: 0.32rem;position: absolute;top: 0;right: -0.1rem; }
        .img-btn2{width: 0.4rem;position: absolute;top: 0;right: -0.1rem; }
        @keyframes cpm {
            0%{transform:scale(1,1);}
            50%{transform:scale(1.1,1.1);}
            100%{transform:scale(0,0);opacity: 0;}
        }


        /*设置*/
        /*.set{width: 100%;height: 100%;position: fixed;left: 0;top: 0;z-index: 1010; color: #fff;   background-color: rgba(17, 16, 16, 0.3); overflow: hidden;}*/
        .set-cpm{width: 2.88rem;height: 1.8rem;position:absolute;top:0;left:0;right:0;bottom:0;margin: auto;}
        .set-top{width: 2.88rem;  background: url("../../chress/res/image/cpm/set_top.png") no-repeat 0 0;background-size:100%;height: 0.48rem}
        .set_content{width: 2.88rem;height: 1.4rem; margin-top: -0.03rem; background-color: rgba(42, 53, 138, 0.6);padding: 0.1rem;box-sizing: border-box;border-bottom-left-radius: 0.1rem;  border-bottom-right-radius: 0.1rem;}
        .set_content>.ctt{width: 100%;border: 1px solid #6F7AC1;     border-radius: 5px; background-color: rgba(66, 80, 174, 0.6);}
        .pmgressbar{font-size: 0.14rem;  padding: 0.32rem 0.24rem;position: relative;height: 1.14rem;box-sizing: border-box;}

        .r-bar{width: 1.82rem;height: 0.14rem;border: 1px solid #0BB0A8;position: absolute;margin-right: 0.24rem;right: 0;bottom: .37rem;background: #116D6B;border-radius: 0.07rem;}
        .r-bar1{width: 1.82rem;height: 0.14rem;border: 1px solid #0BB0A8;position: absolute;margin-right: 0.24rem;right: 0;bottom: .37rem;background: #116D6B;border-radius: 0.07rem;}
        .r-bar-b{width: 60%;border-radius: 0.07rem;height: 100%;background: #89CE2E;overflow: visible;position: relative;transition: .1s linear}
        .r-bar-b1{width: 60%;border-radius: 0.07rem;height: 100%;background: #89CE2E;overflow: visible;position: relative;transition: .1s linear}
        .r-bar-img{background: url(../../chress/res/image/cpm/yuan.png) 0 0/100% 100% no-repeat;width: .3rem;height: .3rem;
            position: absolute;right: -0.22rem;top: -.07rem;}
        .r-bar-img1{background: url(../../chress/res/image/cpm/yuan.png) 0 0/100% 100% no-repeat;width: .3rem;height: .3rem;
            position: absolute;right: -0.22rem;top: -.07rem;}
        .r-bar-font{    position: absolute;  left: -0.42rem;  top: -0.06rem;color:#fff;  font-size: 0.17rem;}
        .r-bar-font1{    position: absolute;  left: -0.42rem;  top: -0.06rem;color:#fff;  font-size: 0.17rem;}

        /*提示*/
        .exit-cpm{width: 2.88rem;height: 2.22rem;position:absolute;top:0;left:0;right:0;bottom:0;margin: auto;}
        .exit-top{width: 2.88rem;  background: url("../../chress/res/image/cpm/hint.png") no-repeat 0 0;background-size:100%;height: 0.48rem}
        .exit_content{width: 2.88rem;height: 1.74rem; margin-top: -0.03rem; background-color: rgba(42, 53, 138, 0.6);padding: 0.1rem;box-sizing: border-box;border-bottom-left-radius: 0.1rem;  border-bottom-right-radius: 0.1rem;}
        .exit_content>.exit-box{border: 1px solid #6F7AC1; width: 2.69rem;height: 0.93rem; color: #fff;font-size: 0.17rem;text-align: center;line-height: 0.93rem;   border-radius: 5px; background-color: rgba(66, 80, 174, 0.6);}
        .exit-img{  margin-top:0.1rem;}
        .exit-img>img{width: 1.31rem;height: 0.47rem;display: inline-block;padding: 0;margin:0 auto;}

        /*福利仓库*/
        .entrepot-cpm{width: 4.65rem;height: 3.49rem;position:absolute;top:0;left:0;right:0;bottom:0;margin: auto;}
        .entrepot-top{width: 4.65rem;  background: url("../../chress/res/image/cpm/menu-top-bg.png") no-repeat 0 0;background-size:100%;height: 0.5rem;}
        .entrepot_content{width: 4.65rem;height: 2.99rem; margin-top: -0.03rem; background-color: rgba(42, 53, 138, 0.6);box-sizing: border-box;border-bottom-left-radius: 0.1rem;  border-bottom-right-radius: 0.1rem;}
        .entrepot_content>.exit-box{border: 1px solid #6F7AC1; width: 2.69rem;height: 0.93rem; color: #fff;font-size: 0.17rem;text-align: center;line-height: 0.93rem;   border-radius: 5px; background-color: rgba(66, 80, 174, 0.6);}
        .entrepot-nav{width: 1.35rem;background: url("../../chress/res/image/cpm/menu-bg.png") no-repeat 0 0;background-size:100%;height: 100%;}
        .entrepot-nav>div{width:1.21rem ;height:0.47rem;overflow: hidden;border-radius: 0.08rem;float: left;margin: 0.11rem 0.08rem 0 0.07rem;}
        .btn-j{background: url("../../chress/res/image/cpm/menu-button-j.png") no-repeat 0 0;background-size:100%;}
        .btn-j-active{background: url("../../chress/res/image/cpm/menu-button-j-a.png") no-repeat 0 0;background-size:100% !important;}
        .btn-z{background: url("../../chress/res/image/cpm/menu-button-z.png") no-repeat 0 0;background-size:100%;}
        .btn-z-active{background: url("../../chress/res/image/cpm/menu-button-z-a.png") no-repeat 0 0;background-size:100% !important;}
        .entrepot-gold{width: 3.3rem;height: 0.9rem;  background-color:#4C5BB0 ;position: absolute;top:0.48rem;right: 0;     box-shadow: 0 -1px 1px rgba(61, 61, 61, 0.84) inset;}
        .entrepot-box{width: 3.3rem;height: 2.1rem;  background-color:#4C5BB0;float: right;margin-top: 0.9rem;border-bottom-right-radius: 0.1rem;}
        .jin-zi{width: 0.61rem;height: 0.14rem;    margin: 0.18rem 0.1rem 0 0.4rem;}
        .jin{      width: 0.5rem;  height: 0.5rem;  position: absolute;  top: 0;  left: 1rem;}
        .jine{border: 1px solid #C79038;border-radius: 0.13rem  ; width: 1.8rem; color:#FFF32D; height: 0.25rem;  line-height: 0.25rem;  font-size: 0.14rem;  margin-top: 0.1rem;  padding: 0 0.1rem;  text-align: right;}
        .yue-zi{    width: 0.78rem;  height: 0.16rem;  margin: 0.2rem 0.1rem 0 0.22rem;}
        .yue{      width: 0.5rem;  height: 0.5rem;  position: absolute;  top: 0.4rem;  left: 1rem;}
        .yue-nub{border: 1px solid #C79038;border-radius: 0.13rem  ; width: 1.8rem; color:#FFF32D; height: 0.25rem;  line-height: 0.25rem;  font-size: 0.14rem;  margin-top: 0.14rem;  padding: 0 0.1rem;  text-align: right;}
        .box-input{width: 3.14rem;height: 0.98rem;  background: url("../../chress/res/image/cpm/save-input.png") no-repeat 0 0;background-size:100%;  margin-left: 8px;  margin-top: 2px;}
        .box-input-q{width: 3.14rem;height: 0.98rem;  background: url("../../chress/res/image/cpm/qu-input.png") no-repeat 0 0;background-size:100%;  margin-left: 8px;  margin-top: 2px;}
        .input-box{border: none;  background-color: #fff !important; color:#000 !important;   text-align: right;  border-radius: 0 !important;  width: 1.8rem !important;  padding: 0.05rem 0.1rem;  float: right;  margin-top: 47px;  margin-right: 17px;}
        .list-btn{width: 0.86rem;height: 0.39rem;float: left;}
        .cun30{ background: url("../../chress/res/image/cpm/cun30.png") no-repeat 0 0/100%;}
        .cun30-a{ background: url("../../chress/res/image/cpm/cun30-a.png") no-repeat 0 0/100%;}
        .qu30{ background: url("../../chress/res/image/cpm/qu30.png") no-repeat 0 0/100%;}
        .qu30-a{ background: url("../../chress/res/image/cpm/qu30-a.png") no-repeat 0 0/100%;}
        .cun50{ background: url("../../chress/res/image/cpm/cun50.png") no-repeat 0 0/100%;}
        .cun50-a{ background: url("../../chress/res/image/cpm/cun50-a.png") no-repeat 0 0/100%;}
        .qu50{ background: url("../../chress/res/image/cpm/qu50.png") no-repeat 0 0/100%;}
        .qu50-a{ background: url("../../chress/res/image/cpm/qu50-a.png") no-repeat 0 0/100%;}
        .cun100{ background: url("../../chress/res/image/cpm/quan.png") no-repeat 0 0/100%;}
        .cun100-a{ background: url("../../chress/res/image/cpm/quan-a.png") no-repeat 0 0/100%;}
        .menu-btn-j{background: url("../../chress/res/image/cpm/menu-button-qj.png") no-repeat 0 0/100%;width: 1.21rem;height: 0.47rem;    margin: 0.52rem 0 0 1rem;}
        .menu-btn-j-a{background: url("../../chress/res/image/cpm/menu-button-qj-a.png") no-repeat 0 0/100%;width: 1.21rem;height: 0.47rem;    margin: 0.52rem 0 0 1rem;}
        .menu-btn-z{background: url("../../chress/res/image/cpm/menu-button-q.png") no-repeat 0 0/100%;width: 1.21rem;height: 0.47rem;    margin: 0.52rem 0 0 1rem;}
        .menu-btn-z-a{background: url("../../chress/res/image/cpm/menu-button-q-a.png") no-repeat 0 0/100% ;width: 1.21rem;height: 0.47rem;    margin: 0.52rem 0 0 1rem;}

    </style>
</head>
<body>
    <!--个人信息-->
    <div class="comm_shad cpm dis-no">
        <div class="cpm_box">
            <div class="img_top"></div>
            <div class="cpm_content">
                <div class="ctt">
                    <div class="dis-in img_via"></div>
                    <div class="dis-in via_box">
                        <input type="text"value="9856656635" class="">
                        <p style="font-size: 0.08rem;color:#fff;">上次登录时间 2018-06-16 15:30:20</p>
                        <h4 style="margin-bottom: 0.02rem;"><span>随身福利</span><small>200,000</small></h4>
                        <h4><span>仓库福利</span><small>1,000</small></h4>
                    </div>
                </div>
                <div class="btn-t"></div>
                <div class="btn-s"></div>
                <img src="../../chress/res/image/cpm/cpm_btn.png" class="img-btn  img-age" alt="">
            </div>
        </div>
    </div>
    <!--设置-->
    <div class="comm_shad set dis-no"style="z-index: 10001;">
        <div class="set-cpm">
            <div class="set-top"></div>
            <div class="set_content">
                <div class="ctt">
                    <div  class="pmgressbar">
                        <div class="r-bar"style="top:0.3rem;">
                            <div class="r-bar-font">音乐</div>
                            <div class="r-bar-b">
                                <div class="r-bar-img" ></div>
                            </div>
                        </div>
                        <div class="r-bar1"style="top:0.7rem;">
                            <div class="r-bar-font1">音效</div>
                            <div class="r-bar-b1">
                                <div class="r-bar-img1" touchstart ="test(false)"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <img src="../../chress/res/image/cpm/cpm_btn.png" class="img-btn1 img-age" alt="">
            </div>
        </div>
    </div>
    <!--退出-->
    <div class="comm_shad exit dis-no"style="z-index: 10001;">
        <div class="exit-cpm">
            <div class="exit-top"></div>
            <div class="exit_content">
                <div class="exit-box">
                    确定退出吗？
                </div>
                <div class="exit-img">
                    <img src="../../chress/res/image/cpm/cancel.png"class="" style="float: left;" alt="">
                    <img src="../../chress/res/image/cpm/ensure.png"class="" style="float: right;"alt="">
                </div>
            </div>
        </div>
    </div>
    <!--福利仓库-->
    <div class="comm_shad entrepot"style="z-index: 10001;">
        <div class="entrepot-cpm">
            <div class="entrepot-top"></div>
            <div class="entrepot_content">
                <div class="entrepot-nav dis-in">
                    <div class="btn-j btn-j-active"></div>
                    <div class="btn-z"></div>
                    <!--<img src="../../chress/res/image/cpm/menu-button-j.png" alt="">-->
                    <!--<img src="../../chress/res/image/cpm/menu-button-z.png" alt="">-->
                </div>
                <div class="entrepot-gold dis-in">
                    <div class="jine-box">
                        <img src="../../chress/res/image/cpm/gold-zi.png" class="fl jin-zi" alt="当前金币">
                        <img src="../../chress/res/image/cpm/gold.png"class="fl jin" alt="金币">
                        <b class="fl jine">200,000.00</b>
                    </div>
                    <div class="yue-box">
                        <img src="../../chress/res/image/cpm/bao-yue.png" class="fl yue-zi" alt="保险箱余额">
                        <img src="../../chress/res/image/cpm/bao-yue-box.png"class="fl yue" alt="余额">
                        <b class="fl yue-nub">200,000.00</b>
                    </div>
                </div>
                <div class="entrepot-box dis-in">
                    <div class="box-input input-b">
                        <input type="number" value="10000"class="input-box">
                    </div>
                    <ul style="margin: 0.07rem 0 0 0.34rem;">
                        <li class="list-btn cun30 btn-nub30 active img-dian"data-dian="cun30-a"data-img="cun30"></li>
                        <li class="list-btn cun50 btn-nub50 active img-dian"data-dian="cun50-a"data-img="cun50"></li>
                        <li class="list-btn cun100 btn-nub100 active img-dian"data-dian="cun100-a"data-img="cun100"></li>
                    </ul>
                    <div class="menu-btn-j btn-qd"></div>
                </div>
                <img src="../../chress/res/image/cpm/cpm_btn.png" class="img-btn2 img-age"alt="">
            </div>
        </div>
    </div>

</body>
<script src="../../chress/res/js/thirds/jquery-2.1.1.min.js"></script>
<script>
//    关闭弹窗
   $('body').on("click",".img-age",function heid() {
        console.log($(this));
        $(this).css("animation","cpm 0.35s");
        $(this).parent().parent().parent().fadeOut(400);
    });


//    仓库福利
//    切换寄存和支取
    $('.entrepot-nav').on("click","div",function () {
        if($(this).hasClass("btn-j")){
            $(this).siblings(".btn-z").removeClass("btn-z-active");
            $(this).addClass("btn-j-active");
            $('.btn-qd').removeClass("menu-btn-z").addClass("menu-btn-j");
            $('.input-b').removeClass("box-input-q").addClass("box-input");
            $('.btn-nub30').removeClass("qu30").addClass("cun30");
            $('.btn-nub30').attr("data-dian", "cun30-a").attr("data-img", "cun30");
            $('.btn-nub50').removeClass("qu50").addClass("cun50");
            $('.btn-nub50').attr("data-dian", "cun50-a").attr("data-img", "cun50");
        }else if($(this).hasClass("btn-z")){
            $(this).siblings(".btn-j").removeClass("btn-j-active");
            $(this).addClass("btn-z-active");
            $('.btn-qd').removeClass("menu-btn-j").addClass("menu-btn-z");
            $('.input-b').removeClass("box-input").addClass("box-input-q");
            $('.btn-nub30').removeClass("cun30").addClass("qu30");
            $('.btn-nub30').attr("data-dian", "qu30-a").attr("data-img", "qu30");
            $('.btn-nub50').removeClass("cun50").addClass("qu50");
            $('.btn-nub50').attr("data-dian", "qu50-a").attr("data-dmg", "qu50");
        }
    });
//    切换按钮颜色
    $('.btn-qd').click(function () {
        if($(this).hasClass("menu-btn-j")&&!$(this).hasClass("menu-btn-j-a")){
            $(this).removeClass("menu-btn-j").addClass("menu-btn-j-a");
        }else if($(this).hasClass("menu-btn-j-a")&&!$(this).hasClass("menu-btn-j")){
            $(this).removeClass("menu-btn-j-a").addClass("menu-btn-j");
        }else if($(this).hasClass("menu-btn-z")&&!$(this).hasClass("menu-btn-z-a")){
            $(this).removeClass("menu-btn-z").addClass("menu-btn-z-a");
        }else if($(this).hasClass("menu-btn-z-a")&&!$(this).hasClass("menu-btn-z")){
            $(this).removeClass("menu-btn-z-a").addClass("menu-btn-z");
        }
    })
    setInterval(function () {
        $('body').on("click",".img-dian",function () {
            var dian = $(this).data("dian");
            var img = $(this).data("img");
//        console.log(img);
//        console.log(dian);
            if($(this).hasClass("active")){
                $(this).removeClass("active").addClass(dian).removeClass(img);
            }else {
                $(this).addClass("active").addClass(img).removeClass(dian);
            }
        })
    },200)


</script>
<script>
//    音量滑动
    var aac=false;
    var isscroll;
    $('.r-bar-img').on('touchstart',function() {
        aac = true;
        isscroll = true;
    })
    $('.r-bar-img1').on('touchstart',function() {
        aac = false;
        isscroll = true;
    })
    $(window).on('touchend',function() {
            isscroll = false;
        })

    var startPosition = {}, deltaY, endPosition = {};
    document.addEventListener('touchstart', touch, false);
    document.addEventListener('touchmove', touch, false);
    document.addEventListener('touchend', touch, false);

    function touch(event) {
        var event = event || window.event;
        switch (event.type) {
            case "touchstart":
                var touch = event.touches[0];
                startPosition = {
                    x: touch.pageX,
                    y: touch.pageY
                }
                break;
            case "touchend":
                break;
            case "touchmove":
                var touch = event.touches[0];
                endPosition = {
                    x: touch.pageX,
                    y: touch.pageY
                }
                deltaY = endPosition.y - startPosition.y;
                break;
        }
        let boxLeft = $(".r-bar").offset().left;
        let boxWidth = $(".r-bar").width();
        let allWidth = boxLeft - boxWidth;
        if(isscroll){
        if(aac){
            if (endPosition.x <= boxLeft) {
                $('.r-bar-b').css('width', '0%');
            } else if (endPosition.x >= boxLeft + boxWidth) {
                $('.r-bar-b').css('width', '91%');
            } else {
                let a = endPosition.x - boxLeft;
                let b = parseFloat(a/boxWidth,4)*100;
                $('.r-bar-b').css('width', b + '%');
            }
        }else{
            if (endPosition.x <= boxLeft) {
                $('.r-bar-b1').css('width', '0%');
            } else if (endPosition.x >= boxLeft + boxWidth) {
                $('.r-bar-b1').css('width', '91%');
            } else {
                let a = endPosition.x - boxLeft;
                let b = parseFloat(a/boxWidth,4)*100;
                $('.r-bar-b1').css('width', b + '%');
            }
        }
        }
    }
</script>
</html>